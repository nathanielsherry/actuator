{% macro enumerate_components(name, components) %}
  {% if components != None and components.items() %}
    <div class='content-package-components'>
      <span class='component-type-header'>
        <a href='#{{name}}'>{{ name }}</a>
      </span>
      <div>
        {% for cmp_name, cmp_cls in components.items() %}
        <div class='component-definition'>
          <div class='technical-name component-name'>
            {{ cmp_name if cmp_name != None else '&lt;default&gt;'}}         
          </div>
          {% if cmp_cls.__doc__ != None %}
            <span class='component-doc'>
              {{cmp_cls.__doc__}}
            </span>
          {% endif %}
        </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
{% endmacro %}



{% macro header() %}
  <div id='header'>
    <span id='header-wordmark'>
      Actuator
    </span>
  </div>
{% endmacro %}


{% macro footer() %}
  <div id='footer'>
    <span id='header-wordmark'>
      Actuator
    </span>
  </div>
{% endmacro %}


{% macro sidebar() %}
  <div id='sidebar' class='column'>
    <div id='sidebar-packages'>
      <span id='sidebar-packages-title'>Packages</span>
      <ul id='sidebar-packages-list'>
      {% for p in pkgs %}
        <li><a class='technical-name' href='pkg-{{p.name}}.html'>{{p.name if p.name != None else '&lt;builtin&gt;'}}</a></li>
      {% endfor %}
      </ul>
    </div>
  </div>
{% endmacro %}



{% macro page() %}
  <div id='page'>
    {{ sidebar() }}
    <div id='content' class='column'>
      <div id='content-title'>
        Package <span class='technical-name'>{{pkg.name if pkg.name != None else '&lt;builtin&gt;'}}</span>  
      </div>
      {% if pkg.__doc__ != None %}
        {{pkg.__doc__}}
      {% endif %}
      
      {{ enumerate_components('Sources', pkg.sources.contents) }}
      {{ enumerate_components('Operators', pkg.operators.contents) }}
      {{ enumerate_components('Sinks', pkg.sinks.contents) }}
      {{ enumerate_components('Monitors', pkg.monitors.contents) }}
      
    </div>
  </div>
{% endmacro %}

<html>
  <head>
    <title>
      Package: {{pkg.name}}
    </title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    
    <div id='header-outer'>
      {{ header() }}
    </div>
    
    <div id='page-outer'>
      {{ page() }}
    </div>
    
    <div id='footer-outer'>
      {{ footer() }}
    </div>
    
  </body>
</html>
