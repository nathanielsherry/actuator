  
{% macro script_expander() %}
<script>
  
  var coll = document.getElementsByClassName('expander-toggle');
  var i;
  
  for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
      this.classList.toggle("expander-toggle-ative");
      var content = this.nextElementSibling;
      if (content.style.maxHeight){
        content.style.maxHeight = null;
      } else {
        content.style.maxHeight = content.scrollHeight + "px";
      }
    });
  }
</script>
{% endmacro %}

{% macro scripts() %}
  {{ script_expander() }}
{% endmacro %}

{% macro expander(title, contents, cls) %}
  <div class='expander-box {{cls}}'>
    <div class='expander-toggle'>
      <a href='javascript:;'>{{ title }}</a>
    </div>
    <div class='expander-target'>
      {{ contents }}
    </div>
  </div>
{% endmacro %}
  

{% macro source_widget(obj) %}
  <div class='code-snippet-python'>
    {{ source(obj).render() }}
  </div>
{% endmacro %}
  
{% macro source_view(obj) %}
  {{ expander('source', source_widget(obj), 'code-expander') }}
{% endmacro %}


{% macro component_header(name) %}
  <span class='component-type-header'>
    <a class='component-type-anchor' id='{{name}}'></a>
    <a class='component-type-name' href='#{{name}}'>{{ name }}</a>
    <a class='component-type-toplink' href='#'>â†‘</a>
  </span>
{% endmacro %}
 
{% macro enumerate_components(name, components) %}
  {% if components != None and components.items() %}
    <div class='content-package-components'>
      {{ component_header(name) }}
      <div>
        {% for cmp_name, cmp_cls in components.items() %}
        <div class='component-definition'>
          {% set cmp_name = cmp_name if cmp_name != None else '&lt;default&gt;' %}   
          
          <div class='technical-name component-name'>
            {{ cmp_name }}         
          </div>

          <span class='component-doc'>
            {{ signature(cmp_cls).render() }}
            {{ documentation(cmp_cls).render() }}
            {{ source_view(cmp_cls) }}
          </span>
                    
          
          
        </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
{% endmacro %}



{% macro header() %}
  <div id='header'>
    <span id='header-wordmark'>
      Actuator
    </span>
  </div>
{% endmacro %}


{% macro footer() %}
  <div id='footer'>
    <span id='header-wordmark'>
      Actuator
    </span>
  </div>
{% endmacro %}


{% macro sidebar() %}
  <div id='sidebar' class='column'>
    <div id='sidebar-packages'>
      <span id='sidebar-packages-title'>Packages</span>
      <ul id='sidebar-packages-list'>
      {% for p in pkgs %}
        <li><a class='technical-name' href='pkg-{{p.name}}.html'>{{p.name if p.name != None else '&lt;builtin&gt;'}}</a></li>
      {% endfor %}
      </ul>
    </div>
  </div>
{% endmacro %}


{% macro page_link(name) %}
<a class='page-link' href='#{{name}}'>{{name}}</a>
{% endmacro %}

{% macro page_links() %}
  <div class='page-links'>
    {{ page_link('Sources') if pkg.sources.contents.items() else "" }}
    {{ page_link('Operators') if pkg.operators.contents.items() else "" }}
    {{ page_link('Sinks') if pkg.sinks.contents.items() else "" }}
    {{ page_link('Monitors') if pkg.monitors.contents.items() else "" }}
  </div>
{% endmacro %}


{% macro page() %}
  <div id='page'>
    {{ sidebar() }}
    <div id='content' class='column'>
      <div id='content-title'>
        Package <span class='technical-name'>{{pkg.name if pkg.name != None else '&lt;builtin&gt;'}}</span>  
      </div>
      
      {{ page_links() }}
      
      {{ documentation(pkg) }}
      
      {{ enumerate_components('Sources', pkg.sources.contents) }}
      {{ enumerate_components('Operators', pkg.operators.contents) }}
      {{ enumerate_components('Sinks', pkg.sinks.contents) }}
      {{ enumerate_components('Monitors', pkg.monitors.contents) }}
      
    </div>
  </div>
{% endmacro %}




  
<html>
  <head>
    <title>
      Package: {{pkg.name}}
    </title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    
    <div id='header-outer'>
      {{ header() }}
    </div>
    
    <div id='page-outer'>
      {{ page() }}
    </div>
    
    <div id='footer-outer'>
      {{ footer() }}
    </div>
    
    {{ scripts() }}
    
  </body>
    

  
</html>
